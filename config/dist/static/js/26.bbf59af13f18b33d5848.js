webpackJsonp([26],{IBYK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"packageraly",data:function(){return{currentPage:1,pagesize:10,total:0,url:"192.168.4.99:8002/v1",index:0,id:"",checkfree:!1,checkexpired:!1,checkis_half:!1,count:"",tableData:[],maskShow:!1,maskShowadd:!1,maskShowupdate:!1,code:"",quantity:1,starting_days:"",closing_days:"",starting_time:"",closing_time:"",descript:"",descript_en:"",group_code:"",hotel_group_id:"",hotel_id:"",price:"",cost:"",is_group:"1",is_half:"1",is_sys:"2",list_order:1}},created:function(){this.searchall()},methods:{searchall:function(){var e=this,t="http://"+e.url+"/rate_code/get_breakfast_list/";this.$axios({method:"get",url:t}).then(function(t){console.info(t),t&&t.data.data.results&&t.data.data.results.length>0?(e.tableData=t.data.data.results,e.total=t.data.data.count):console.info("没有数据")}).catch(function(e){console.info(e.message)})},inquire:function(){var e=this,t=void 0,a=void 0,s=void 0,i=e.count,o="http://"+e.url+"/breakfast/";t=1==e.checkfree?1:"",a=1==e.checkexpired?1:"",s=1==e.checkis_half?1:"",""==i&&""==t&&""==a&&""==s?e.searchall():this.$axios({method:"get",url:o,params:{quantity:i,free:t,expired:a,is_half:s}}).then(function(t){console.log(t.data),e.tableData=t.data.results,e.total=t.data.count}).catch(function(e){console.log(e.message)})},deleteClick:function(e,t,a){var s="http://"+this.url+"/breakfast/"+e+"/delete/";this.$axios({method:"post",url:s}).then(function(e){a.splice(t,1),alert(e.data.message),console.info(e.data.message)}).catch(function(e){console.info(e.message)})},setaddMaskShow:function(){this.maskShow=!0,this.maskShowadd=!0},setcauleMaskShow:function(){this.maskShow=!1,this.maskShowadd=!1,this.maskShowupdate=!1},addEarlyInfo:function(){var e=this,t="http://"+e.url+"/rate_code/add_breakfast/";e.$axios({method:"post",url:t,data:{code:e.code,quantity:e.quantity,starting_days:e.starting_days,closing_days:e.closing_days,starting_time:e.starting_time,closing_time:e.closing_time,descript:e.descript,descript_en:e.descript_en,group_code:e.group_code,price:e.price,cost:e.cost,is_group:e.is_group,is_half:e.is_half}}).then(function(t){"success"==t.data.message?(console.info(t.data.message),e.maskShow=!1,e.maskShowadd=!1,e.searchall()):console.info(t)}).catch(function(e){console.info(e)})},editEarlyInfo:function(e,t){var a=1==e.is_group?"1":"2",s=1==e.is_half?"1":"2",i=1==e.is_sys?"1":"2";this.index=t,this.code=e.code,this.quantity=e.quantity,this.starting_days=e.starting_days,this.closing_days=e.closing_days,this.starting_time=e.starting_time,this.closing_time=e.closing_time,this.descript=e.descript,this.descript_en=e.descript_en,this.group_code=e.group_code,this.hotel_group_id=e.hotel_group_id,this.hotel_id=e.hotel_id,this.price=e.price,this.cost=e.cost,this.is_group=a,this.is_half=s,this.is_sys=i,this.list_order=e.list_order,this.id=e.id,this.maskShow=!0,this.maskShowupdate=!0},updateEarlyInfo:function(){var e=this,t="1"==e.is_group,a="1"==e.is_half,s="1"==e.is_sys,i="http://"+e.url+"/breakfast/"+e.id+"/renew/";this.$axios({method:"post",url:i,data:{code:e.code,quantity:e.quantity,starting_days:e.starting_days,closing_days:e.closing_days,starting_time:e.starting_time,closing_time:e.closing_time,descript:e.descript,descript_en:e.descript_en,group_code:e.group_code,hotel_group_id:e.hotel_group_id,hotel_id:e.hotel_id,price:e.price,cost:e.cost,is_group:t,is_half:a,is_sys:s,list_order:e.list_order}}).then(function(t){"success"==t.data.message?(e.tableData[e.index]=t.data.results,e.maskShow=!1,e.maskShowupdate=!1,e.searchall()):console.info(t.data.message)}).catch(function(e){console.info(e)})},handleSizeChange:function(e){this.pagesize=e,console.info(e)},handleCurrentChange:function(e){var t=this,a="http://"+t.url+"/breakfast/?page="+e;t.currentPage=e,this.$axios({method:"get",url:a}).then(function(e){t.tableData=e.data.data.results}).catch(function(e){console.info(e)})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"early-all"},[e._m(0),e._v(" "),a("div",{staticClass:"early-search"},[a("label",[e._v("早餐份数:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"count"}],domProps:{value:e.count},on:{input:function(t){t.target.composing||(e.count=t.target.value)}}}),e._v(" "),a("label",{staticStyle:{"margin-left":"20px"}},[e._v("显示内容:")]),e._v(" "),a("el-checkbox",{model:{value:e.checkfree,callback:function(t){e.checkfree=t},expression:"checkfree"}},[e._v("免费")]),e._v(" "),a("el-checkbox",{model:{value:e.checkexpired,callback:function(t){e.checkexpired=t},expression:"checkexpired"}},[e._v("含失效")]),e._v(" "),a("el-checkbox",{model:{value:e.checkis_half,callback:function(t){e.checkis_half=t},expression:"checkis_half"}},[e._v("含停用")]),e._v(" "),a("button",{on:{click:e.inquire}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"early-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"mini",border:"",height:"400px","header-cell-style":{background:"#303A41"}}},[a("el-table-column",{attrs:{prop:"code",label:"代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descript",label:"中文描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descript_en",label:"英文描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"starting_days",label:"有效期起"}}),e._v(" "),a("el-table-column",{attrs:{prop:"closing_days",label:"有效期止"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"销售价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"成本价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editEarlyInfo(t.row,t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteClick(t.row.id,t.$index,e.tableData)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"early-page"},[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("div",{staticClass:"early-bottom"},[a("button",[e._v("保存")]),e._v(" "),a("button",[e._v("续期")]),e._v(" "),a("button",[e._v("日志")]),e._v(" "),a("button",[e._v("清空")]),e._v(" "),a("button",{on:{click:e.setaddMaskShow}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShow,expression:"maskShow"}],staticClass:"mask"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShowadd,expression:"maskShowadd"}],staticClass:"mask-suspen"},[e._m(1),e._v(" "),a("div",{staticClass:"mask-body"},[a("ul",[a("li",[a("span",[e._v("代码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),a("span",[e._v("早餐份数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(t){t.target.composing||(e.quantity=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("n天后生效起始日期:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"6px"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期时间"},model:{value:e.starting_days,callback:function(t){e.starting_days=t},expression:"starting_days"}}),e._v(" "),a("span",[e._v("n天后生效结束日期:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期时间"},model:{value:e.closing_days,callback:function(t){e.closing_days=t},expression:"closing_days"}})],1),e._v(" "),a("li",[a("span",[e._v("起始时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"6px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.starting_time,callback:function(t){e.starting_time=t},expression:"starting_time"}}),e._v(" "),a("span",[e._v("结束时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.closing_time,callback:function(t){e.closing_time=t},expression:"closing_time"}})],1),e._v(" "),a("li",[a("span",[e._v("描述:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descript,expression:"descript"}],domProps:{value:e.descript},on:{input:function(t){t.target.composing||(e.descript=t.target.value)}}}),a("span",[e._v("英文描述:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descript_en,expression:"descript_en"}],domProps:{value:e.descript_en},on:{input:function(t){t.target.composing||(e.descript_en=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("对应集团代码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.group_code,expression:"group_code"}],domProps:{value:e.group_code},on:{input:function(t){t.target.composing||(e.group_code=t.target.value)}}}),a("span",[e._v("销售价格:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("成本:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cost,expression:"cost"}],domProps:{value:e.cost},on:{input:function(t){t.target.composing||(e.cost=t.target.value)}}})]),e._v(" "),a("li",{staticStyle:{"margin-left":"-30px"}},[a("span",[e._v("是否集团代码:")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("否")]),e._v(" "),a("span",[e._v("是否停用:")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_half,callback:function(t){e.is_half=t},expression:"is_half"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.is_half,callback:function(t){e.is_half=t},expression:"is_half"}},[e._v("否")])],1)])]),e._v(" "),a("div",{staticClass:"mask-btn"},[a("button",{staticStyle:{"margin-left":"40%"},on:{click:e.addEarlyInfo}},[e._v("保存")]),e._v(" "),a("button",{on:{click:e.setcauleMaskShow}},[e._v("取消")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskShowupdate,expression:"maskShowupdate"}],staticClass:"mask-suspen"},[e._m(2),e._v(" "),a("div",{staticClass:"mask-body"},[a("ul",[a("li",[a("span",[e._v("代码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),a("span",[e._v("早餐份数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"quantity"}],attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(t){t.target.composing||(e.quantity=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("n天后生效起始日期:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"6px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.starting_days,callback:function(t){e.starting_days=t},expression:"starting_days"}}),e._v(" "),a("span",[e._v("n天后生效结束日期:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.closing_days,callback:function(t){e.closing_days=t},expression:"closing_days"}})],1),e._v(" "),a("li",[a("span",[e._v("起始时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"6px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.starting_time,callback:function(t){e.starting_time=t},expression:"starting_time"}}),e._v(" "),a("span",[e._v("结束时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px","margin-left":"2px"},attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.closing_time,callback:function(t){e.closing_time=t},expression:"closing_time"}})],1),e._v(" "),a("li",[a("span",[e._v("描述:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descript,expression:"descript"}],domProps:{value:e.descript},on:{input:function(t){t.target.composing||(e.descript=t.target.value)}}}),a("span",[e._v("英文描述:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descript_en,expression:"descript_en"}],domProps:{value:e.descript_en},on:{input:function(t){t.target.composing||(e.descript_en=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("对应集团代码:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.group_code,expression:"group_code"}],domProps:{value:e.group_code},on:{input:function(t){t.target.composing||(e.group_code=t.target.value)}}}),a("span",[e._v("集团ID:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hotel_group_id,expression:"hotel_group_id"}],domProps:{value:e.hotel_group_id},on:{input:function(t){t.target.composing||(e.hotel_group_id=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("酒店ID:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.hotel_id,expression:"hotel_id"}],domProps:{value:e.hotel_id},on:{input:function(t){t.target.composing||(e.hotel_id=t.target.value)}}}),a("span",[e._v("销售价格:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),e._v(" "),a("li",[a("span",[e._v("成本:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cost,expression:"cost"}],domProps:{value:e.cost},on:{input:function(t){t.target.composing||(e.cost=t.target.value)}}}),a("span",[e._v("排序:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.list_order,expression:"list_order"}],attrs:{type:"number"},domProps:{value:e.list_order},on:{input:function(t){t.target.composing||(e.list_order=t.target.value)}}})]),e._v(" "),a("li",{staticStyle:{"margin-left":"-30px"}},[a("span",[e._v("是否集团代码:")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("否")]),e._v(" "),a("span",[e._v("是否停用:")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_half,callback:function(t){e.is_half=t},expression:"is_half"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.is_half,callback:function(t){e.is_half=t},expression:"is_half"}},[e._v("否")]),e._v(" "),a("span",[e._v("是否系统代码:")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_sys,callback:function(t){e.is_sys=t},expression:"is_sys"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.is_sys,callback:function(t){e.is_sys=t},expression:"is_sys"}},[e._v("否")])],1)])]),e._v(" "),a("div",{staticClass:"mask-btn"},[a("button",{staticStyle:{"margin-left":"40%"},on:{click:e.updateEarlyInfo}},[e._v("保存")]),e._v(" "),a("button",{on:{click:e.setcauleMaskShow}},[e._v("取消")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"early-top"},[t("i",{staticClass:"el-icon-setting"}),this._v(" "),t("label",[this._v("包早设置")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mask-close"},[t("label",[this._v("新增包早")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mask-close"},[t("label",[this._v("更新包早")])])}]};var o=a("VU/8")(s,i,!1,function(e){a("XBY2")},"data-v-3fc2ae93",null);t.default=o.exports},XBY2:function(e,t){}});
//# sourceMappingURL=26.bbf59af13f18b33d5848.js.map