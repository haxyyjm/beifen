webpackJsonp([8],{"2lPo":function(t,e){},Sf9f:function(t,e){},qYB3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"MemberList",data:function(){return{UrLHeader:"http://member.crowncrystalhotel.com/v1/",tableData:[],selfDialog:!1,transferDialog:!1,changeDialog:!1,currentPage:1,pagesize:10,total:0,checked:!0,SearchContent:"",param:{},custom_wayArr:[{code:"point",descript:"积分"},{code:"money",descript:"现金"}]}},methods:{addIntegral:function(){var t=this,e=t.UrLHeader+"customer/member/entry_card_point/";this.validateData()&&(t.param.charge=Number(t.param.charge),t.param.point_type="entering",t.param.card_id=1,t.param.card_no="wx0403hgjp",t.param.biz_date=new Date,t.param.gen_date=new Date,this.$axios.post(e,t.param).then(function(e){t.$message({message:"添加成功",type:"success"}),t.selfDialog=!1}).catch(function(e){t.$message.error("添加数据失败!")}))},handleInfoById:function(){},getData:function(){},handleSizeChange:function(){},validateData:function(){return this.validateBlank(this.param.charge,"消费金额是必填项",this)&&this.validateNAN(this.param.charge,"消费金额必须是数字",this)},validateBlank:function(t,e,a,l){return e?""===t||null===t||void 0===t?(a.$message({message:e,type:"error"}),!1):(l&&a.$message({message:l,type:"success"}),!0):!(""===t||null===t||void 0===t)},validateNAN:function(t,e,a,l){if(""===t||null===t||void 0===t)return!0;var s=/^(\-|\+)?\d+(\.\d+)?$/;return e?s.test(t)?(l&&a.$message({message:l,type:"success"}),!0):(a.$message({message:e,type:"error"}),!1):s.test(t)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"IntegralList"},[a("p",{staticClass:"iconLogo"},[t._v("积分列表")]),t._v(" "),a("div",{staticClass:"search"},[a("div",{staticClass:"inputCell"},[t._v("\r\n        会员卡号：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"inputCell"},[t._v("\r\n        持卡人 ：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"inputCell"},[t._v("\r\n        会员计划：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"inputCell"},[t._v("\r\n        积分余额：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"inputCell"},[t._v("\r\n        所属酒店：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"inputCell"},[t._v("\r\n        卡等级 ：\r\n        "),t._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.SearchContent,callback:function(e){t.SearchContent=e},expression:"SearchContent"}})],1),t._v(" "),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"single-btn",on:{click:function(e){t.transferDialog=!0}}},[t._v("积分转移")]),t._v(" "),a("div",{staticClass:"single-btn",on:{click:function(e){t.changeDialog=!0}}},[t._v("积分调整")]),t._v(" "),a("div",{staticClass:"single-btn"},[t._v("积分兑换")]),t._v(" "),a("div",{staticClass:"single-btn"},[t._v("兑换撤销")]),t._v(" "),a("div",{staticClass:"single-btn"},[t._v("兑换账单")]),t._v(" "),a("div",{staticClass:"single-btn",on:{click:function(e){t.selfDialog=!0,t.param={}}}},[t._v("手工录入")])])]),t._v(" "),a("div",{staticClass:"table",staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:300,"header-cell-style":{background:"#BFCAD1",color:"#68819E"}},on:{"row-click":t.handleInfoById}},[a("el-table-column",{attrs:{type:"index",width:"55",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"descript",label:"积分产生酒店"}}),t._v(" "),a("el-table-column",{attrs:{prop:"descript",label:"金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"descript_en",label:"产生积分"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"消费积分"}}),t._v(" "),a("el-table-column",{attrs:{prop:"descript",label:"积分余额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"descript_en",label:"积分有效期至"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"积分有效/失效"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"状态"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.getData}})],1),t._v(" "),a("el-dialog",{staticClass:"houseTypeClass",attrs:{title:"积分转移",visible:t.transferDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.transferDialog=e}}},[a("div",{staticStyle:{height:"400px"}},[a("el-col",{attrs:{span:8}},[a("el-row",[a("span",[t._v("转出卡:")]),a("el-input",{staticStyle:{width:"200px"}})],1),t._v(" "),a("el-row",{staticClass:"secondClass"},[a("span",{staticStyle:{display:"block",width:"50px",float:"left"}},[t._v("卡信息:")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:4}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-row",{staticStyle:{"margin-top":"10px"}},[a("span",[t._v("转积分数量:")])]),t._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:2}})],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{type:"primary"}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("保存")])],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-row",[a("span",[t._v("转入卡:")]),a("el-input",{staticStyle:{width:"200px"}})],1),t._v(" "),a("el-row",{staticClass:"secondClass"},[a("span",{staticStyle:{display:"block",width:"50px",float:"left"}},[t._v("卡信息:")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:4}})],1)],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"houseTypeClass",attrs:{title:"积分调整",visible:t.changeDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.changeDialog=e}}},[a("div",{staticStyle:{height:"400px"}},[a("el-col",{attrs:{span:8}},[a("el-row",[a("span",[t._v("转出卡:")]),a("el-input",{staticStyle:{width:"200px"}})],1),t._v(" "),a("el-row",{staticClass:"secondClass"},[a("span",{staticStyle:{display:"block",width:"50px",float:"left"}},[t._v("卡信息:")]),a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:6}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-row",[a("div",[a("span",{staticStyle:{"margin-left":"28px"}},[t._v("调整方向:")]),a("el-select",{staticStyle:{width:"200px"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("span",{staticStyle:{"margin-left":"28px"}},[t._v("调整原因:")]),a("el-select",{staticStyle:{width:"200px"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[t._v("积分失效日期:")]),a("el-input",{staticStyle:{width:"200px"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[t._v("转移积分数量:")]),a("el-input",{staticStyle:{width:"200px"}})],1)])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-row",[a("span",[t._v("备注:")])]),t._v(" "),a("el-row",{staticClass:"secondClass"},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",rows:7}})],1)],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"houseTypeClass",attrs:{title:"手工录入",visible:t.selfDialog,"close-on-click-modal":!1},on:{"update:visible":function(e){t.selfDialog=e}}},[a("div",{staticStyle:{height:"400px"}},[a("div",{staticClass:"search"},[a("div",{staticClass:"inputCellBlock"},[t._v("\r\n              消费金额：\r\n              "),t._v(" "),a("el-input",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.param.charge,callback:function(e){t.$set(t.param,"charge","string"==typeof e?e.trim():e)},expression:"param.charge"}})],1),t._v(" "),a("div",{staticClass:"inputCellBlock"},[t._v("\r\n              付款代码：\r\n              "),t._v(" "),a("el-input",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.param.ta_code,callback:function(e){t.$set(t.param,"ta_code",e)},expression:"param.ta_code"}})],1),t._v(" "),a("div",{staticClass:"inputCellBlock"},[t._v("\r\n              付款方式：\r\n              "),t._v(" "),a("el-select",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.param.pay_code,callback:function(e){t.$set(t.param,"pay_code",e)},expression:"param.pay_code "}},t._l(t.custom_wayArr,function(t,e){return a("el-option",{key:e,attrs:{label:t.descript,value:t.code}})}),1)],1),t._v(" "),a("div",{staticClass:"inputCellBlock"},[t._v("\r\n              消费酒店：\r\n              "),t._v(" "),a("el-input",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.param.consume_hotel,callback:function(e){t.$set(t.param,"consume_hotel",e)},expression:"param.consume_hotel"}})],1),t._v(" "),a("div",{staticClass:"inputCellBlock"},[t._v("\r\n              消费类型：\r\n              "),t._v(" "),a("el-select",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:t.param.cat_sum,callback:function(e){t.$set(t.param,"cat_sum",e)},expression:"param.cat_sum "}},t._l(t.custom_wayArr,function(t,e){return a("el-option",{key:e,attrs:{label:t.descript,value:t.code}})}),1)],1),t._v(" "),a("div",{staticClass:"pull-right",staticStyle:{height:"100px","padding-top":"50px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.param={}}}},[t._v("重置")]),t._v(" "),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(e){t.addIntegral()}}},[t._v("保存")])],1)])])])],1)},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(t){a("Sf9f"),a("2lPo")},"data-v-33f810e4",null);e.default=i.exports}});
//# sourceMappingURL=8.a2d7dd0c7e3bc041c767.js.map