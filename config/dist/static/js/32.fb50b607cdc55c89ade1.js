webpackJsonp([32],{"+f/V":function(t,e){},tL0n:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"cash-coupon",data:function(){return{tableData_cash_coupon:[],url:"http://192.168.4.99:8001/v1/",currentPage:1,pagesize:20,total:0}},created:function(){this.search_coupon_list()},methods:{search_coupon_list:function(){var t=this,e=t.url+"customer/coupon/get_coupon_list/";t.$axios({method:"get",url:e}).then(function(e){t.total=e.data.data.count,t.tableData_cash_coupon=e.data.data.results,console.info(e)}).catch(function(t){console.info(t)})},handleCurrentChange:function(t){var e=this,a=e.url+"customer/coupon/get_coupon_list/";e.currentPage=t,e.$axios({method:"get",url:a,params:{page:t,page_size:20}}).then(function(t){e.tableData_cash_coupon=t.data.data.results}).catch(function(t){console.info(t)})},hintInfo:function(t,e){"success"==t?this.$message({message:e,type:"success"}):"warning"==t?this.$message({message:e,type:"warning"}):this.$message.error("出错了！")},lose_efficacy:function(t,e,a){var n=this;n.$axios({method:"post",url:"",data:{sta:e.sta="S"}}).then(function(t){n.hintInfo("success",n.row.no+"已失效！"),n.handleCurrentChange(n.currentPage)}).catch(function(t){console.info(t)})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-all"},[n("el-card",[n("el-header",[n("li",[n("img",{attrs:{src:a("crOX")}}),t._v("券销售明细:\n        "),n("div",{staticClass:"search-style"},[n("span",[t._v("券定义编码:")]),n("input"),n("button",[t._v("搜索")])])])]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData_cash_coupon,size:"mini",height:"70vh","header-cell-style":{background:"#68819E",color:"#FFFFFF"}}},[n("el-table-column",{attrs:{prop:"coupon_code",label:"券定义编码",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"coupon_source_type",label:"券类别"}}),t._v(" "),n("el-table-column",{attrs:{prop:"no",label:"券号",width:"170"}}),t._v(" "),n("el-table-column",{attrs:{prop:"present_value",label:"面值（折扣）",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sta",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["I"===e.row.sta?n("span",[t._v("销售")]):t._e(),t._v(" "),"O"===e.row.sta?n("span",[t._v("使用")]):t._e(),t._v(" "),"S"===e.row.sta?n("span",[t._v("停用")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"sale_type",label:"销售方式"}}),t._v(" "),n("el-table-column",{attrs:{prop:"valid_from_date",label:"生效时间",width:"190"}}),t._v(" "),n("el-table-column",{attrs:{prop:"valid_to_date",label:"失效时间",width:"190"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",prop:"address",label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.lose_efficacy(e.$index,e.row,t.tableData_cash_coupon)}}},[t._v("失效")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(n,o,!1,function(t){a("+f/V")},"data-v-05e59000",null);e.default=s.exports}});
//# sourceMappingURL=32.fb50b607cdc55c89ade1.js.map