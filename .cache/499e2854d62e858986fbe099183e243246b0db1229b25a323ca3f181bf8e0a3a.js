{"source":"webpackJsonp([66],{\"5B1M\":function(t,e){},AAO8:function(t,e){},OrHJ:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var l={name:\"MemberList\",data:function(){return{UrLHeader:\"http://member.crowncrystalhotel.com/v1/\",tableData:[],selfDialog:!1,transferDialog:!1,changeDialog:!1,currentPage:1,pagesize:10,total:0,checked:!0,SearchContent:\"\",param:{},custom_wayArr:[{code:\"point\",descript:\"积分\"},{code:\"money\",descript:\"现金\"}]}},methods:{addIntegral:function(){var e=this,t=e.UrLHeader+\"customer/member/entry_card_point/\";this.validateData()&&(e.param.charge=Number(e.param.charge),e.param.point_type=\"entering\",e.param.card_id=1,e.param.card_no=\"wx0403hgjp\",e.param.biz_date=new Date,e.param.gen_date=new Date,this.$axios.post(t,e.param).then(function(t){e.$message({message:\"添加成功\",type:\"success\"}),e.selfDialog=!1}).catch(function(t){e.$message.error(\"添加数据失败!\")}))},handleInfoById:function(){},getData:function(){},handleSizeChange:function(){},validateData:function(){return this.validateBlank(this.param.charge,\"消费金额是必填项\",this)&&this.validateNAN(this.param.charge,\"消费金额必须是数字\",this)},validateBlank:function(t,e,a,l){return e?\"\"===t||null==t?(a.$message({message:e,type:\"error\"}),!1):(l&&a.$message({message:l,type:\"success\"}),!0):!(\"\"===t||null==t)},validateNAN:function(t,e,a,l){if(\"\"===t||null==t)return!0;var s=/^(\\-|\\+)?\\d+(\\.\\d+)?$/;return e?s.test(t)?(l&&a.$message({message:l,type:\"success\"}),!0):(a.$message({message:e,type:\"error\"}),!1):s.test(t)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"IntegralList\"},[a(\"p\",{staticClass:\"iconLogo\"},[e._v(\"积分列表\")]),e._v(\" \"),a(\"div\",{staticClass:\"search\"},[a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        会员卡号：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        持卡人 ：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        会员计划：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        积分余额：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        所属酒店：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCell\"},[e._v(\"\\r\\n        卡等级 ：\\r\\n        \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"200px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:\"SearchContent\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"btn-group\"},[a(\"div\",{staticClass:\"single-btn\",on:{click:function(t){e.transferDialog=!0}}},[e._v(\"积分转移\")]),e._v(\" \"),a(\"div\",{staticClass:\"single-btn\",on:{click:function(t){e.changeDialog=!0}}},[e._v(\"积分调整\")]),e._v(\" \"),a(\"div\",{staticClass:\"single-btn\"},[e._v(\"积分兑换\")]),e._v(\" \"),a(\"div\",{staticClass:\"single-btn\"},[e._v(\"兑换撤销\")]),e._v(\" \"),a(\"div\",{staticClass:\"single-btn\"},[e._v(\"兑换账单\")]),e._v(\" \"),a(\"div\",{staticClass:\"single-btn\",on:{click:function(t){e.selfDialog=!0,e.param={}}}},[e._v(\"手工录入\")])])]),e._v(\" \"),a(\"div\",{staticClass:\"table\",staticStyle:{width:\"100%\"}},[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData,height:300,\"header-cell-style\":{background:\"#BFCAD1\",color:\"#68819E\"}},on:{\"row-click\":e.handleInfoById}},[a(\"el-table-column\",{attrs:{type:\"index\",width:\"55\",label:\"编号\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"code\",label:\"日期\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"descript\",label:\"积分产生酒店\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"descript\",label:\"金额\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"descript_en\",label:\"产生积分\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"rate\",label:\"消费积分\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"descript\",label:\"积分余额\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"descript_en\",label:\"积分有效期至\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"rate\",label:\"积分有效/失效\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"rate\",label:\"状态\"}})],1),e._v(\" \"),a(\"el-pagination\",{attrs:{\"current-page\":e.currentPage,\"page-size\":e.pagesize,layout:\"total, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.getData}})],1),e._v(\" \"),a(\"el-dialog\",{staticClass:\"houseTypeClass\",attrs:{title:\"积分转移\",visible:e.transferDialog,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.transferDialog=t}}},[a(\"div\",{staticStyle:{height:\"400px\"}},[a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",[a(\"span\",[e._v(\"转出卡:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"el-row\",{staticClass:\"secondClass\"},[a(\"span\",{staticStyle:{display:\"block\",width:\"50px\",float:\"left\"}},[e._v(\"卡信息:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"textarea\",rows:4}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"span\",[e._v(\"转积分数量:\")])]),e._v(\" \"),a(\"el-row\",{staticStyle:{\"margin-top\":\"30px\"}},[a(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"textarea\",rows:2}})],1),e._v(\" \"),a(\"el-row\",{staticStyle:{\"margin-top\":\"15px\"}},[a(\"el-button\",{attrs:{type:\"primary\"}},[e._v(\"重置\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"}},[e._v(\"保存\")])],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",[a(\"span\",[e._v(\"转入卡:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"el-row\",{staticClass:\"secondClass\"},[a(\"span\",{staticStyle:{display:\"block\",width:\"50px\",float:\"left\"}},[e._v(\"卡信息:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"textarea\",rows:4}})],1)],1)],1)]),e._v(\" \"),a(\"el-dialog\",{staticClass:\"houseTypeClass\",attrs:{title:\"积分调整\",visible:e.changeDialog,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.changeDialog=t}}},[a(\"div\",{staticStyle:{height:\"400px\"}},[a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",[a(\"span\",[e._v(\"转出卡:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"el-row\",{staticClass:\"secondClass\"},[a(\"span\",{staticStyle:{display:\"block\",width:\"50px\",float:\"left\"}},[e._v(\"卡信息:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"textarea\",rows:6}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",[a(\"div\",[a(\"span\",{staticStyle:{\"margin-left\":\"28px\"}},[e._v(\"调整方向:\")]),a(\"el-select\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"div\",{staticStyle:{\"margin-top\":\"15px\"}},[a(\"span\",{staticStyle:{\"margin-left\":\"28px\"}},[e._v(\"调整原因:\")]),a(\"el-select\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"div\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"span\",[e._v(\"积分失效日期:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"}})],1),e._v(\" \"),a(\"div\",{staticStyle:{\"margin-top\":\"10px\"}},[a(\"span\",[e._v(\"转移积分数量:\")]),a(\"el-input\",{staticStyle:{width:\"200px\"}})],1)])],1),e._v(\" \"),a(\"el-col\",{attrs:{span:8}},[a(\"el-row\",[a(\"span\",[e._v(\"备注:\")])]),e._v(\" \"),a(\"el-row\",{staticClass:\"secondClass\"},[a(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{type:\"textarea\",rows:7}})],1)],1)],1)]),e._v(\" \"),a(\"el-dialog\",{staticClass:\"houseTypeClass\",attrs:{title:\"手工录入\",visible:e.selfDialog,\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.selfDialog=t}}},[a(\"div\",{staticStyle:{height:\"400px\"}},[a(\"div\",{staticClass:\"search\"},[a(\"div\",{staticClass:\"inputCellBlock\"},[e._v(\"\\r\\n              消费金额：\\r\\n              \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"220px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.param.charge,callback:function(t){e.$set(e.param,\"charge\",\"string\"==typeof t?t.trim():t)},expression:\"param.charge\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCellBlock\"},[e._v(\"\\r\\n              付款代码：\\r\\n              \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"220px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.param.ta_code,callback:function(t){e.$set(e.param,\"ta_code\",t)},expression:\"param.ta_code\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCellBlock\"},[e._v(\"\\r\\n              付款方式：\\r\\n              \"),e._v(\" \"),a(\"el-select\",{staticStyle:{width:\"220px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.param.pay_code,callback:function(t){e.$set(e.param,\"pay_code\",t)},expression:\"param.pay_code \"}},e._l(e.custom_wayArr,function(t,e){return a(\"el-option\",{key:e,attrs:{label:t.descript,value:t.code}})}),1)],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCellBlock\"},[e._v(\"\\r\\n              消费酒店：\\r\\n              \"),e._v(\" \"),a(\"el-input\",{staticStyle:{width:\"220px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.param.consume_hotel,callback:function(t){e.$set(e.param,\"consume_hotel\",t)},expression:\"param.consume_hotel\"}})],1),e._v(\" \"),a(\"div\",{staticClass:\"inputCellBlock\"},[e._v(\"\\r\\n              消费类型：\\r\\n              \"),e._v(\" \"),a(\"el-select\",{staticStyle:{width:\"220px\",margin:\"0 16px\"},attrs:{placeholder:\"请输入内容\"},model:{value:e.param.cat_sum,callback:function(t){e.$set(e.param,\"cat_sum\",t)},expression:\"param.cat_sum \"}},e._l(e.custom_wayArr,function(t,e){return a(\"el-option\",{key:e,attrs:{label:t.descript,value:t.code}})}),1)],1),e._v(\" \"),a(\"div\",{staticClass:\"pull-right\",staticStyle:{height:\"100px\",\"padding-top\":\"50px\"}},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.param={}}}},[e._v(\"重置\")]),e._v(\" \"),a(\"el-button\",{staticStyle:{\"margin-right\":\"20px\"},attrs:{type:\"primary\"},on:{click:function(t){return e.addIntegral()}}},[e._v(\"保存\")])],1)])])])],1)},staticRenderFns:[]};var i=a(\"VU/8\")(l,s,!1,function(t){a(\"AAO8\"),a(\"5B1M\")},\"data-v-cef4bf18\",null);e.default=i.exports}});"}