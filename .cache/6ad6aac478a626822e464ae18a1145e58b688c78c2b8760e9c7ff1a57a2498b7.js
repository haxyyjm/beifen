{"source":"webpackJsonp([91],{\"e+Wq\":function(t,e){},tL0n:function(t,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a={name:\"cash-coupon\",data:function(){return{tableData_cash_coupon:[],url:\"http://192.168.4.99:8001/v1/\",currentPage:1,pagesize:20,total:0}},created:function(){this.search_coupon_list()},methods:{search_coupon_list:function(){var e=this,t=e.url+\"customer/coupon/get_coupon_list/\";e.$axios({method:\"get\",url:t}).then(function(t){e.total=t.data.data.count,e.tableData_cash_coupon=t.data.data.results,console.info(t)}).catch(function(t){console.info(t)})},handleCurrentChange:function(t){var e=this,a=e.url+\"customer/coupon/get_coupon_list/\";e.currentPage=t,e.$axios({method:\"get\",url:a,params:{page:t,page_size:20}}).then(function(t){e.tableData_cash_coupon=t.data.data.results}).catch(function(t){console.info(t)})},hintInfo:function(t,e){\"success\"==t?this.$message({message:e,type:\"success\"}):\"warning\"==t?this.$message({message:e,type:\"warning\"}):this.$message.error(\"出错了！\")},lose_efficacy:function(t,e){var a=this;a.$axios({method:\"post\",url:\"\",data:{sta:e.sta=\"S\"}}).then(function(t){a.hintInfo(\"success\",a.row.no+\"已失效！\"),a.handleCurrentChange(a.currentPage)}).catch(function(t){console.info(t)})}}},n={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n(\"div\",{staticClass:\"page-all\"},[n(\"el-card\",[n(\"el-header\",[n(\"li\",[n(\"img\",{attrs:{src:o(\"crOX\")}}),a._v(\"券销售明细:\\n        \"),n(\"div\",{staticClass:\"search-style\"},[n(\"span\",[a._v(\"券定义编码:\")]),n(\"input\"),n(\"button\",[a._v(\"搜索\")])])])]),a._v(\" \"),n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:a.tableData_cash_coupon,size:\"mini\",height:\"70vh\",\"header-cell-style\":{background:\"#68819E\",color:\"#FFFFFF\"}}},[n(\"el-table-column\",{attrs:{prop:\"coupon_code\",label:\"券定义编码\",fixed:\"\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"coupon_source_type\",label:\"券类别\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"no\",label:\"券号\",width:\"170\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"present_value\",label:\"面值（折扣）\",width:\"110\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"sta\",label:\"状态\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[\"I\"===t.row.sta?n(\"span\",[a._v(\"销售\")]):a._e(),a._v(\" \"),\"O\"===t.row.sta?n(\"span\",[a._v(\"使用\")]):a._e(),a._v(\" \"),\"S\"===t.row.sta?n(\"span\",[a._v(\"停用\")]):a._e()]}}])}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"sale_type\",label:\"销售方式\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"valid_from_date\",label:\"生效时间\",width:\"190\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"valid_to_date\",label:\"失效时间\",width:\"190\"}}),a._v(\" \"),n(\"el-table-column\",{attrs:{fixed:\"right\",prop:\"address\",label:\"操作\",width:\"80\"},scopedSlots:a._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(t){return a.lose_efficacy(e.$index,e.row,a.tableData_cash_coupon)}}},[a._v(\"失效\")])]}}])})],1),a._v(\" \"),n(\"el-pagination\",{attrs:{\"current-page\":a.currentPage,\"page-size\":a.pagesize,layout:\"total, prev, pager, next, jumper\",total:a.total},on:{\"current-change\":a.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var s=o(\"VU/8\")(a,n,!1,function(t){o(\"e+Wq\")},\"data-v-7e250d67\",null);e.default=s.exports}});"}